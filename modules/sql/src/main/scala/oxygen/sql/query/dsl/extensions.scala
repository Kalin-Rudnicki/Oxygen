package oxygen.sql.query.dsl

import oxygen.sql.query.*

//////////////////////////////////////////////////////////////////////////////////////////////////////
//      Macros
//////////////////////////////////////////////////////////////////////////////////////////////////////

extension (inline self: SelectNoInput)
  inline def flatMap[O](inline f: Unit => Returning[O]): QueryO[O] =
    ${ macros.selectNoInput('self, 'f) }

extension [I](inline self: SelectInput[I])
  inline def flatMap[O](inline f: I => Returning[O]): QueryIO[I, O] =
    ${ macros.selectInput('self, 'f) }

//////////////////////////////////////////////////////////////////////////////////////////////////////
//      DSL
//////////////////////////////////////////////////////////////////////////////////////////////////////

extension [A](self: A) {
  def >(that: A): Boolean = macroOnly
  def >=(that: A): Boolean = macroOnly
  def <(that: A): Boolean = macroOnly
  def <=(that: A): Boolean = macroOnly
}
